<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="shortcut icon" href="/imaages/tashaa titlebar.png" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="/css/style.css">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      color: #333;
      margin: 0;
      padding: 20px;
    }

    .store-locator {
      max-width: 600px;
      margin: 5% auto;
      background-color: #fff;
      border: 1px solid #d7ccc8;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }


    .store-locator h2 {
      font-size: 24px;
      text-align: center;
      margin-bottom: 20px;
      color: #6a4f4b;
    }


    button {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      background-color: #b12027;
    }

    #locate-store {
      display: block;
      margin: 0 auto 20px auto;
      background-color: #b12027;
      color: white;
    }

    #locate-store:hover {
      background-color: #600f13;
    }


    #store-form label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: #6a4f4b;
    }

    #store-form select {
      width: 100%;
      padding: 8px;
      border: 1px solid #d7ccc8;
      border-radius: 5px;
      margin-top: 5px;
      font-size: 14px;
      background-color: #fff;
      color: #333;
    }

    #store-form select:disabled {
      background-color: #f5f5f5;
      color: #aaa;
    }

    #store-form button {
      width: 100%;
      margin-top: 15px;
      background-color: #b12027;
      color: white;
    }

    #store-form button:hover {
      background-color: #600f13;
    }


    #store-results {
      margin-top: 20px;
      padding: 15px;
      background-color: #fff8f0;
      border: 1px solid #d7ccc8;
      border-radius: 5px;
      text-align: center;
      font-weight: bold;
      color: #6a4f4b;
    }


    @media (max-width: 768px) {
      .store-locator {
        padding: 15px;
      }

      #locate-store,
      #store-form button {
        font-size: 14px;
      }

      #store-form select {
        font-size: 12px;
      }
    }
  </style>
</head>

<body>
  <div class="nav">
    <marquee scrollamount="7">
      <div class="container">
        <h3 class="title">
          <span class="title-word title-word-1">WELCOME</span>
          <span class="title-word title-word-2">TO</span>
          <span class="title-word title-word-3">TASHAA</span>
        </h3>
      </div>
    </marquee>

    <div class="support">
      <ul>
        <li class="dropdown"><a href="/home.html">HOME</a></li>
        <li class="dropdown"><a href="#">SUPPORT <i class="fa-solid fa-chevron-down"></i></a>
          <div id="list-support">
            <ul>
              <li><a href="/manuals.html"> Manuals</a></li>                      <li> <a href="expert-tips.html">Expert-Tips</a></li>
              <li> <a href="registration.html">Register Complain</a></li>
              <li> <a href="contact-us.html">Contact Us</a></li>
              <li> <a href="faq.html">FAQ</a></li>
            </ul>
          </div>
        </li>

        <li class="dropdown"><a href="/store-locator.html">STORE LOCATOR</a></li>
        <div class="side" id="cart">
          <div id="cart-icon" onclick="toggleCart()">&#128722;&#xfe0e;</div>
          <a href="#">Cart</a>
          <span id="cart-count">0</span>
        </div>
        <div class="side" id="account">
          <div id="accountimg">&#128104;&#xfe0e;</div>
          <a id="accountimg" href="#">Account</a>
        </div>
      </ul>
    </div>
  </div>

  <div id="loginModal" class="Modal">
    <div class="modal-content">
      <span class="close-btn" id="closeModal"> &times;</span>
      <h2 id="modalTitle">Login</h2>
      <form id="authForm">
        <input type="text" id="userId" placeholder="User ID" required />
        <input type="password" id="password" placeholder="Password" required />
        <button type="submit" id="authbutton">Login</button>
      </form>
      <p id="toggletext">
        Don't have an account? <a href="#" id="togglelink">Create Account</a>
      </p>
    </div>
  </div>

  <div class="logo">
    <img src="/imaages/tasha-logo.png" alt="Tashaa Logo">
  </div>

  <nav class="navbar">
    <div class="hamburger" onclick="toggleMenu()">
      â˜°
    </div>
    <ul>
      <li class="dropdown"><a href="/next-in-line.html" class="catg">UPCOMING PRODUCT</a></li>
      <li class="dropdown">
        <a href="cooking-ware.html" class="catg">COOKING WARE <i class="fa-solid fa-chevron-down"></i></a>
        <div id="list-COOKINGWARE">
          <div class="dropdown-img"><img src="/imaages/cookingware/set.png" alt=""></div>

          <ul>
            <li><a href="/Cooking pots.html"> Cooking pots</a></li>
            <li> <a href="/Cooking Pans.html">Cooking Pans</a></li>
            <li><a href="/Frying Pans.html Pans.html">Frying Pans</a></li>
            <li><a href="/Cookware Sets.html">Cookware Sets</a></li>
            <li><a href="/Handis.html">Handis</a></li>
          </ul>
          <ul>
            <li><a href="/Kadais.html"> Kadais [Karahi]</a></li>
            <li><a href="/Grill pans.html">Grill pans</a> </li>
            <li><a href="/Tawas.htm">Tawas</a></li>
            <li> <a href="/Egg Poachers.html">Egg Poachers</a></li>
            <li><a href="/Steamers.html">Steamers</a> </li>
          </ul>
        </div>
      </li>
      <li class="dropdown"><a href="/refrigeration.html" class="catg">REFRIGERATION <i
            class="fa-solid fa-chevron-down"></i></a>
        <div id="list-refrigeration">
          <div class="dropdown-img"><img src="/imaages/Refrigerator/3.jpg" alt=""></div>
          <ul>
            <li><a href="/refrigerators.html"> Refrigerator</a></li>
            <li> <a href="/freezers">Freezer</a></li>
          </ul>
        </div>
      </li>
      <li class="dropdown"><a href="/appliances.html" class="catg">APPLIANCES <i
            class="fa-solid fa-chevron-down"></i></a>
        <div id="list-appliances">
          <div class="dropdown-img"><img src="/imaages/appliances/1.jpg" alt=""></div>
          <ul>
            <li><a href="/Blenders.html"> Blenders</a></li>
            <li> <a href="/Coffee makers.html">Coffee makers</a></li>
            <li><a href="/bread makers.html">Bread makers</a></li>
            <li><a href="/Electric kettles.html">Electric kettles</a></li>
            <li><a href="/Food choppers.html">Food choppers</a></li>
            <li><a href="/Toasters.html">Toasters</a> </li>
          </ul>
        </div>
      </li>
      <li class="dropdown"><a href="/food-storage.html" class="catg">FOOD STORAGE <i
            class="fa-solid fa-chevron-down"></i></a>
        <div id="list-storage">
          <div class="dropdown-img"><img src="/imaages/food strage/jars/food (3).jpg" alt=""></div>
          <ul>
            <li><a href="/Blenders.html"> Blenders</a></li>
            <li> <a href="/Coffee makers.html">Coffee makers</a></li>
            <li><a href="/bread makers.html">Bread makers</a></li>
            <li><a href="/Electric kettles.html">Electric kettles</a></li>
            <li><a href="/Food choppers.html">Food choppers</a></li>
            <li><a href="/Toasters.html">Toasters</a> </li>
          </ul>
        </div>
      </li>
    </ul>
    <div class="search"><input type="search" placeholder="search">
      <!-- <i class='bx bx-search'></i> -->
    </div>
    </div>
    <div id="cart-container" style="display: none;">
      <h1 id="cart-head"> YOUR SHOPPING CART!!!</h1> <br>
      <div id="cart-items"></div>
      <div class="btnn">
        <button id="clear-cart" onclick="clearCart()">Clear Cart</button>
        <button id="checkout">Checkout</button>
        <button id="close-cart" onclick="toggleCart()">Close Cart</button>
      </div>
    </div>
  </nav>
  <div class="store-locator">
    <h2>Stores</h2>

    <!-- Geolocation-based store search -->
    <button id="locate-store">Search By Location</button>

    <!-- Dropdown-based store search -->
    <form id="store-form">
      <label for="province">Province</label>
      <select id="province">
        <option value="">Select</option>
      </select>

      <label for="city">City</label>
      <select id="city" disabled>
        <option value="">Select</option>
      </select>

      <label for="town">Town/Area</label>
      <select id="town" disabled>
        <option value="">Select</option>
      </select>

      <button type="button" id="search-store">Search Store</button>
    </form>

    <!-- Results display -->
    <div id="store-results"></div>
  </div>
  <button id="scrollBtn" class="scroll-btn" onclick="scrollToTop()">
    <i class="fa fa-arrow-up"></i>
  </button>
  </div>
  <footer class="footer">
    <div class="footer-content">
        <div class="footer-main-tittle">
            <div class="typewriter">
                <h1>Tashaa</h1>
                <h1 id="store">The home store</h1>
            </div>

        </div>
        <div class="footer-products">
            <h3>Products</h3>
            <ul>
                <li><a href="/categories/cooking-ware.html">Cooking Ware</a></li>
                <li><a href="/categories/refrigeration.html">Refrigeration</a></li>
                <li><a href="/categories/appliances.html">Applainces</a></li>
                <li><a href="/categories/food-storage.html">Food Storage</a></li>

            </ul>
        </div>

        <div class="footer-support">
            <h3>Customer Support</h3>
            <ul>
              <li><a href="/manuals.html">Manuals</a></li>
              <li><a href="/categories/expert-tips.html">Expert Tips</a></li>
              <li><a href="/registration.html">Register Complain</a></li>
              <li><a href="/faq.html">FAQ</a></li>
              <li><a href="/contact-us.html">Contact</a></li>
          </ul>
        </div>

        <div class="footer-contect">
            <div class="contect-apps">
                <ul>
                    <i class='bx bxl-facebook-circle'></i>
                    <i class='bx bxl-instagram'></i>
                    <i class='bx bxl-youtube'></i>
                </ul>
            </div>
            <div class="contect-tittle">
                <ul>
                    <a href="#">
                        <li class="small">Whatsapp Support Line</li>
                    </a>
                    <a href="#">
                        <li>+92-311-111-7359</li>
                    </a>
                </ul>
            </div>
            <div class="contect-tittle">
                <ul>
                    <a href="#">
                        <li class="small">7/24 Customer Support</li>
                    </a>
                    <a href="#">
                        <li>021 111 11 7359</li>
                    </a>
                </ul>
            </div>
        </div>
    </div>

    <div class="footer-additional">
        <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms & Conditions</a></li>
        </ul>
    </div>
</footer>
  <script>
    // Store data for dropdowns
    const locationStoreData = {
      Punjab: {
        Lahore: ['DHA', 'Gulberg', 'Johar Town'],
        Multan: ['Cantt', 'Shah Rukn-e-Alam'],
      },
      Sindh: {
        Karachi: ['Clifton', 'Gulshan-e-Iqbal', 'Malir'],
        Hyderabad: ['Qasimabad', 'Latifabad'],
      },
    };

    const provinceDropdown = document.getElementById('province');
    const cityDropdown = document.getElementById('city');
    const townDropdown = document.getElementById('town');
    const resultsDiv = document.getElementById('store-results');

    // Populate provinces
    for (const province in locationStoreData) {
      const option = document.createElement('option');
      option.value = province;
      option.textContent = province;
      provinceDropdown.appendChild(option);
    }

    // Handle province change
    provinceDropdown.addEventListener('change', () => {
      const cities = locationStoreData[provinceDropdown.value];
      cityDropdown.innerHTML = '<option value="">Select</option>'; // Reset city dropdown
      townDropdown.innerHTML = '<option value="">Select</option>'; // Reset town dropdown
      townDropdown.disabled = true; // Disable town dropdown initially

      if (cities) {
        cityDropdown.disabled = false;
        for (const city in cities) {
          const option = document.createElement('option');
          option.value = city;
          option.textContent = city;
          cityDropdown.appendChild(option);
        }
      } else {
        cityDropdown.disabled = true;
      }
    });

    // Handle city change
    cityDropdown.addEventListener('change', () => {
      const towns = locationStoreData[provinceDropdown.value][cityDropdown.value];
      townDropdown.innerHTML = '<option value="">Select</option>'; // Reset town dropdown

      if (towns) {
        townDropdown.disabled = false;
        towns.forEach((town) => {
          const option = document.createElement('option');
          option.value = town;
          option.textContent = town;
          townDropdown.appendChild(option);
        });
      } else {
        townDropdown.disabled = true;
      }
    });

    // Handle search button click
    document.getElementById('search-store').addEventListener('click', () => {
      const province = provinceDropdown.value;
      const city = cityDropdown.value;
      const town = townDropdown.value;

      if (province && city && town) {
        resultsDiv.textContent = `Store found in ${town}, ${city}, ${province}!`;
      } else {
        resultsDiv.textContent = 'Please select all fields to search for a store.';
      }
    });

    // Store data for geolocation
    const geoStoreData = [
      { name: 'Store 1', latitude: 31.5204, longitude: 74.3587 }, // Lahore
      { name: 'Store 2', latitude: 24.8607, longitude: 67.0011 }, // Karachi
      { name: 'Store 3', latitude: 33.6844, longitude: 73.0479 }, // Islamabad
    ];

    // Distance calculation function
    function getDistance(lat1, lon1, lat2, lon2) {
      const toRadians = (degrees) => degrees * (Math.PI / 180);
      const R = 6371; // Earth's radius in kilometers
      const dLat = toRadians(lat2 - lat1);
      const dLon = toRadians(lon2 - lon1);
      const a =
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *
        Math.sin(dLon / 2) * Math.sin(dLon / 2);
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
      return R * c; // Distance in kilometers
    }

    // Handle geolocation-based store search
    document.getElementById('locate-store').addEventListener('click', () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const userLat = position.coords.latitude;
            const userLon = position.coords.longitude;

            let nearestStore = null;
            let shortestDistance = Infinity;

            geoStoreData.forEach((store) => {
              const distance = getDistance(userLat, userLon, store.latitude, store.longitude);
              if (distance < shortestDistance) {
                shortestDistance = distance;
                nearestStore = store;
              }
            });

            if (nearestStore) {
              resultsDiv.textContent = `The nearest store is ${nearestStore.name}, ${shortestDistance.toFixed(2)} km away.`;
            } else {
              resultsDiv.textContent = 'No stores found nearby.';
            }
          },
          (error) => {
            console.error('Error getting location:', error.message);
            resultsDiv.textContent = 'Unable to access your location.';
          }
        );
      } else {
        console.error('Geolocation is not supported by this browser.');
      }
    });

    function displayProductCards() {
      const container = document.getElementById('product-card');
      products.forEach(product => {
        const card = document.createElement("div");
        card.className = "product-card";

        card.innerHTML = `
            <a href="details.html?id=${product.id}">
                <img src="${product.imageUrl}" alt="${product.name}" class="product-image">
            </a>
            <h3>${product.name}</h3>
            <p>${product.description}</p>
            <h4>${product.price}</h4>
            <button onclick="addToCart(${product.id})">Add to Cart</button>
        `;

        container.appendChild(card);
      });
    }

    function addToCart(productId) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const product = products.find(p => p.id === productId);

      if (product) {
        const existingProduct = cart.find(item => item.id === productId);
        if (existingProduct) {
          existingProduct.quantity += 1;
        } else {
          product.quantity = 1;
          cart.push(product);
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
      }
    }


    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartCount = cart.length;
      const cartCountElement = document.getElementById('cart-count');
      const cartBadge = document.getElementById('cart-count');

      if (cartCountElement) {
        cartCountElement.innerText = cartCount;
      } if (cartCount > 0) {
        cartBadge.classList.add('visible');
      } else {
        cartBadge.classList.remove('visible');
      }
    }

    function toggleCart() {
      const cartContainer = document.getElementById('cart-container');
      if (cartContainer.style.display === 'none') {
        cartContainer.style.display = 'block';
        displayCart();
      } else {
        cartContainer.style.display = 'none';
      }
    }
    function displayCart() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartItemsContainer = document.getElementById('cart-items');
      cartItemsContainer.innerHTML = '';

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p id="cart-para">Your cart is empty.</p>';
      } else {
        let totalAmount = 0;

        cart.forEach(item => {
          const itemPrice = parseFloat(item.price.replace('Price: $', ''));
          totalAmount += itemPrice * item.quantity;

          const cartItem = document.createElement('div');
          cartItem.className = 'cart-item';
          cartItem.innerHTML = `
                <img src="${item.imageUrl}" alt="${item.name}" class="product-image">
                <h4>${item.name}</h4>
                <p>Price: $${itemPrice.toFixed(2)}</p>
                <p>
                  
                    <button class="qty-btn" onclick="changeQuantity(${item.id}, -1)">-</button>
                    <span>${item.quantity}</span>
                    <button class="qty-btn" onclick="changeQuantity(${item.id}, 1)">+</button>
                </p>
            `;

          cartItemsContainer.appendChild(cartItem);
        });

        const totalDisplay = document.createElement('div');
        totalDisplay.className = 'cart-total';
        totalDisplay.innerHTML = `<h3>Total Amount: $${totalAmount.toFixed(2)}</h3>`;
        cartItemsContainer.appendChild(totalDisplay);
      }
    }

    function clearCart() {
      localStorage.removeItem('cart');
      displayCart();
      updateCartCount();
    }



    document.addEventListener("DOMContentLoaded", function () {
      displayProductCards();
      updateCartCount();
    });
    if (window.location.pathname.includes('cart')) {
      displayCart();
    }


    if (window.location.pathname.includes('cart')) {
      displayCart();
    }

    function changeQuantity(productId, change) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const product = cart.find(item => item.id === productId);

      if (product) {
        product.quantity += change;

        if (product.quantity <= 0) {
          cart = cart.filter(item => item.id !== productId);
        }

        localStorage.setItem('cart', JSON.stringify(cart));


        displayCart();
        updateCartCount();
      }
    }


    document.addEventListener("DOMContentLoaded", function () {
      const loginmodal = document.getElementById("loginModal");
      const accountimg = document.getElementById("accountimg");
      const authbutton = document.getElementById("authbutton");
      const toggletext = document.getElementById("toggletext");
      const authForm = document.getElementById("authForm");
      const userIdInput = document.getElementById("userId");
      const passwordInput = document.getElementById("password");
      const togglelink = document.getElementById("togglelink");
      const closeModal = document.getElementById("closeModal");
      const modalTitle = document.getElementById("modalTitle");

      let isLoginMode = true;

      accountimg.addEventListener("click", () => {
        loginmodal.style.display = "flex";
      });

      closeModal.addEventListener("click", () => {
        loginmodal.style.display = "none";
      });

      toggletext.addEventListener("click", (e) => {
        e.preventDefault();
        isLoginMode = !isLoginMode;

        if (isLoginMode) {
          modalTitle.textContent = "Login";
          authbutton.textContent = "Login";
          toggletext.innerHTML = `Don't have an account? <a href="#" id="togglelink">Create Account</a>`;
        } else {
          modalTitle.textContent = "Create Account";
          authbutton.textContent = "Sign up";
          toggletext.innerHTML = `Already have an account? <a href="#" id="togglelink">Login</a>`;
        }
      });

      authForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const userId = userIdInput.value.trim();
        const password = passwordInput.value.trim();

        if (!userId || !password) {
          alert("Both fields are required.");
          return;
        }

        if (isLoginMode) {
          const storedUserId = localStorage.getItem("userid");
          const storedPassword = localStorage.getItem("password");

          if (storedUserId === userId && storedPassword === password) {
            alert("Login successful");
            loginModal.style.display = "none";
          } else {
            alert("Invalid credentials, please try again.");
          }
        } else {
          localStorage.setItem("userid", userId);
          localStorage.setItem("password", password);
          alert("Account created successfully!");
          isLoginMode = true;
          modalTitle.textContent = "Login";
          authButton.textContent = "Login";
          toggleText.innerHTML = `Don't have an account? <a href="#" id="togglelink">Create Account</a>`;
        }

        userIdInput.value = "";
        passwordInput.value = "";
      });
    });

    function toggleMenu() {
      const navbarMenu = document.querySelector('.navbar ul');
      navbarMenu.classList.toggle('active');
    }

    // Show/Hide Scroll Button based on scroll position
    const scrollBtn = document.getElementById("scrollBtn");

    window.onscroll = function () {
      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        scrollBtn.classList.add("show");
      } else {
        scrollBtn.classList.remove("show");
      }
    };

    // Scroll to Top Function
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }
  </script>
</body>

</html>